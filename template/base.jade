html
	// i18n
	+_('Blog', '博客', 'zh_cn')
	+_('Albums', '相册', 'zh_cn')
	+_('Categories', '分类', 'zh_cn')
	+_('Archive', '归档', 'zh_cn')
	+_('Links', '链接', 'zh_cn')
	+_('About', '关于', 'zh_cn')
	+_('Recent', '最新文章', 'zh_cn')
	+_('Tags', '标签', 'zh_cn')
	head
		+mobile_meta()
		meta(name="keywords", content=site.configs.keywords.escaped)
		meta(name="description", content=site.raw_content.escaped)
		block title
			title= request.args.s or post.title or tags.join('+') or category.title or site.title
		+get_resource("blog_basic.css")
		+load("fonts")
		+load('pure#0.5.0')
		+load('/service/static_3rd/staticfile/ajax/libs/pure/0.5.0/grids-responsive-min.css')
		+load('/template/style.scss')
		+load("jquery")
	body:.body_container
		#header
			.site-name
				p.description.hidden= site.raw_content
				div#logo-bg.logo-bg
					canvas#yugen-logo-canvas.hidden
					canvas#yugen-shadow-canvas.hidden
  				div.logo
  					h2 muxu.
  					   span pw
  					h1
  						a#logo(href='/',rel='nofollow')= site.title


			#nav-menu
				+a_with_selected('/' or '/post', _('Blog'),'nav_blog')
				if has('categories')
					+a_with_selected('/categories', _('Categories'))
				+a_with_selected('/archive', _('Archive'))
				for p in get_data(status='pages', type='post', limit=5, with_page=False, sort='position')
					+a_with_selected('/'+p.path, _(p.filename.split('.')[0].title()))
				if has('images')
					a(href='/album')= _('Albums')
					if not has('posts')
						+redirect('/album')

		#layout.pure-g
			.pure-u-1.pure-u-md-3-4:.content_container
				block content

			.pure-u-1-4:#sidebar
				.widget
					form#search
						input#search_value.text(placeholder="Search",type="text",value=request.args.s, onkeyup="if (event.keyCode == 13) search();")

				#authorInfo
      				.author-logo
      				.social-list
        				a(href='http://weibo.com/t2275025', target='_blank', title='weibo')
        				a(href='https://github.com/raclen', target='_blank', title='github')

				.widget
					.widget-title.fa.fa-list-alt= _('Categories')
					ul.category-left
						for category in  get_data(type='folder', level=[1,2], min_posts_count=1)
						    li
								a(href="/category/{{category.path}}", title=category.title)
									= category.title
									span= category._posts_count

				.widget
					.widget-title.fa.fa-tags= _('Tags')
					div.tags-left
						for tag in site.tags
							 a(href='/tag/'+tag[0], title=tag[0])
							    = tag[0]
							 	sup= tag[1]

				.widget
					.widget-title.fa.fa-sort-amount-desc= _('Recent')
					newess_posts = get_data(path='/', type='post', limit=8, sort='desc', with_page=False)
					ul
						for post in newess_posts
							li
								a(href=post.url, title=post.title)= post.title






        a#toTop ↑
		#footer= '© '
			a(href='/', real="nofollow")= site.title
			. Powered by
			a(rel="nofollow", target="_blank", href="https://www.farbox.com") FarBox
			. Theme by
			a(rel="nofollow", target="_blank", href="http://chopstack.com") cho

		script(src="/template/js/yunlogo.js")
		script
		    //文章搜索
			function search() {
				if (document.getElementById('search_value').value) {
				  location.href = 'http://' + location.host + '?s=' + document.getElementById('search_value').value;
				}
				return false;
			 }
			 //yunlogo
			 YugenLogo.initialize({
			        framerate: 60,

			        width: 380,
			        height: 220,

			        colorSpeedFactor: 0.4,
			        morphSpeedFactor: 0.4,
			        introSpeedFactor: 2,
			        outroSpeedFactor: 2,

			        morphStrengthFactor: 0.8,

			        morphBaseSpeedFactor: 0.2,
			        normalOffsetFactor: 1.5,

			        maxShapeRotation: 0.2,

			        wordOffsetX: 0,
			        wordOffsetY: 0,

			        wordScale: 1,

			        foregroundScaleX: 0.42,
			        foregroundScaleY: 0.21,
			        backgroundScaleX: 0.36,
			        backgroundScaleY: 0.21,

			        shadowAlpha: 0.1,

			        shapeQuality: 9,

			        containerID: "logo-bg",
			        logoCanvasID: "yugen-logo-canvas",

			        colors: [
			            [new YugenLogo.util.Color(240, 240, 240), new YugenLogo.util.Color(0, 0, 0)],
			            [new YugenLogo.util.Color(0, 0, 0), new YugenLogo.util.Color(240, 240, 240)]
			        ],

			        inputs: [
			            YugenLogo.input.move,
			            YugenLogo.input.press
			        ],

			        fallbackImages: []
			    });
			    //返回顶部
			     var toTop = $("#toTop");
			    $(window).scroll(function() {
			        if ($(window).scrollTop() < 500) {
			            toTop.fadeOut("fast");
			        } else {
			            toTop.fadeIn("fast");
			        }
			    });
			    toTop.click(function() {
			        $("html,body").animate({
			            scrollTop: 0
			        }, 500);
			        return false
			    });
