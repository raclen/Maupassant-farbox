function rotateDown(t){if(!(0>t||t>=pageArr.length)){var e=pageArr.eq(t);e.children("a").css("background-color","#fff");var o=e.data("obj");o?o.r=getNumByEle(e):(e.data("obj",{r:getNumByEle(e)}),o=e.data("obj")),$(o).animate({r:0},{duration:1e3,easing:"easeOutBack",step:function(){if(e.css({"-moz-transform":"rotateX("+this.r+"deg)","-webkit-transform":"rotateX("+this.r+"deg)","-0-transform":"rotateX("+this.r+"deg)","-ms-transform":"rotateX("+this.r+"deg)",transform:"rotateX("+this.r+"deg)"}),!e.data("opening")){var o=getNumByEle(e);o>-120&&(e.data("opening",!0),rotateDown(t+1))}},complete:function(){e.css({transform:"rotateX(0deg)"})}})}}function rotateUp(t){if(!(0>t||t>=pageArr.length)){var e=pageArr.eq(t);e.children("a").css("background-color","rgb(223,223,223)");var o=e.data("obj");o?o.r=getNumByEle(e):(e.data("obj",{r:getNumByEle(e)}),o=e.data("obj")),$(o).animate({r:-180},{duration:600,easing:"linear",step:function(){if(e.css({"-moz-transform":"rotateX("+this.r+"deg)","-webkit-transform":"rotateX("+this.r+"deg)","-0-transform":"rotateX("+this.r+"deg)","-ms-transform":"rotateX("+this.r+"deg)",transform:"rotateX("+this.r+"deg)"}),!e.data("closing")){var o=getNumByEle(e);-60>o&&(e.data("closing",!0),rotateUp(t-1))}},complete:function(){e.css({transform:"rotateX(-180deg)"})}})}}function getNumByEle(t){var e=t.attr("style");return e.match(/rotateX\(([-]?\d+)/)[1]}function stopAll(){for(var t=0;t<pageArr.length;t++){var e=pageArr.eq(t);e.data("opening",!1),e.data("closing",!1);var o=e.data("obj");o&&$(o).stop&&$(o).stop(!0,!1)}}function search(){return document.getElementById("search_value").value&&(location.href="http://"+location.host+"?s="+document.getElementById("search_value").value),!1}var YugenLogo=function(window){function startLogoCanvas(){logoContext=logoCanvas.getContext("2d"),resize(),createColorQueue(),shapeForegroundColor=colorQueue[0][0].clone(),shapeBackgroundColor=colorQueue[0][1].clone(),shapeForeground=createShape(ORIGINAL_WIDTH*options.foregroundScaleX,ORIGINAL_HEIGHT*options.foregroundScaleY,.2),shapeBackground=createShape(ORIGINAL_WIDTH*options.backgroundScaleX,ORIGINAL_HEIGHT*options.backgroundScaleY,3.3),$(logoCanvas).show(),updateInterval=setInterval(loop,1e3/options.framerate),options.inputs.map(function(t){t.initialize()})}function startShadowCanvas(){shadowContext=shadowCanvas.getContext("2d"),$(shadowCanvas).css("display","block"),resize()}function startFallback(){$("img",container).show().mouseover(function(t){var e=options.fallbackImages.shift();$(this).attr("src",e),options.fallbackImages.push(e)})}function enableDebugging(){function createDebugProperty(t,e){return"	 "+t+": "+(e||"")+options[t]+(e||"")+",\n"}options.debug=!0;var configureScript="YugenLogo.initialize({\n";configureScript+=createDebugProperty("framerate"),configureScript+="	\n",configureScript+=createDebugProperty("width"),configureScript+=createDebugProperty("height"),configureScript+="	\n",configureScript+=createDebugProperty("colorSpeedFactor"),configureScript+=createDebugProperty("morphSpeedFactor"),configureScript+=createDebugProperty("morphStrengthFactor"),configureScript+=createDebugProperty("morphBaseSpeedFactor"),configureScript+=createDebugProperty("introSpeedFactor"),configureScript+=createDebugProperty("outroSpeedFactor"),configureScript+=createDebugProperty("normalOffsetFactor"),configureScript+="	\n",configureScript+=createDebugProperty("maxShapeRotation"),configureScript+="	\n",configureScript+=createDebugProperty("wordOffsetX"),configureScript+=createDebugProperty("wordOffsetY"),configureScript+=createDebugProperty("wordScale"),configureScript+="	\n",configureScript+=createDebugProperty("foregroundScaleX"),configureScript+=createDebugProperty("foregroundScaleY"),configureScript+=createDebugProperty("backgroundScaleX"),configureScript+=createDebugProperty("backgroundScaleY"),configureScript+="	\n",configureScript+=createDebugProperty("shadowAlpha"),configureScript+="	\n",configureScript+=createDebugProperty("shapeQuality"),configureScript+="	\n",configureScript+=createDebugProperty("containerID",'"'),configureScript+=createDebugProperty("logoCanvasID",'"'),configureScript+=createDebugProperty("shadowCanvasID",'"'),configureScript+="	\n",configureScript+="	    colors: [\n",configureScript+="			 // Foreground: 							 Background: \n";for(var i=0;i<options.colors.length;i++){var ca=options.colors[i][0],cb=options.colors[i][0];configureScript+="			 [ new YugenLogo.util.Color( "+ca.r+", "+ca.g+", "+ca.r+" ), 	 new YugenLogo.util.Color( "+ca.r+", "+ca.g+", "+ca.r+" ) ],\n"}configureScript+="		 ]\n",configureScript+="});",$("#debug-panel textarea").text(configureScript),$("#debug-panel .run").click(function(event){event.preventDefault(),eval($("#debug-panel textarea").val())}),$("#debug-panel .save").click(function(t){t.preventDefault(),window.open(logoCanvas.toDataURL("image/png"))})}function createColorQueue(){function t(t){return.5-Math.random()}colorQueue=options.colors.concat(),colorQueue.sort(t)}function createShape(t,e,o){for(var r={offset:{x:0,y:0,tx:Math.cos(o)*SHAPE_OFFSET,ty:Math.sin(o)*SHAPE_OFFSET,angle:o},radiusx:t,radiusy:e,rotation:-(.5*options.maxShapeRotation)+Math.random()*options.maxShapeRotation,points:[]},a=options.shapeQuality;--a;){var n={normal:createShapeNormal(r,a,options.shapeQuality),normalTarget:{x:0,y:0},offset:{x:(-MORPH_RANGE+Math.random()*MORPH_RANGE2)*scale,y:(-MORPH_RANGE+Math.random()*MORPH_RANGE2)*scale},target:{x:0,y:0},velocity:{x:0,y:0},speed:.01+.015*Math.random(),state:INTRO_STATE,x:0,y:0};n.target.x=n.normal.x,n.target.y=n.normal.y,n.normalTarget.x=n.normal.x,n.normalTarget.y=n.normal.y,r.points.push(n)}return r}function createShapeNormal(t,e,o){var r=1,a=1,n=.1*options.normalOffsetFactor,i=.2*options.normalOffsetFactor;Math.random()>.3&&(r-=n+Math.random()*n,1==shapeTemplate?e%2==0?a+=i+Math.random()*i:a-=i+Math.random()*i:2==shapeTemplate?e%2==0?a-=i+Math.random()*i:a+=i+Math.random()*i:Math.random()>.5?a-=i+Math.random()*i:a+=i+Math.random()*i);var s=e/o*Math.PI*2;return{x:Math.cos(s)*(t.radiusx*r)*scale,y:Math.sin(s)*(t.radiusy*a)*scale}}function centerOfShape(t){return{x:.5*options.width+t.offset.x*scale,y:.5*options.height+t.offset.y*scale}}function resize(t,e){options.width=t||options.width,options.height=e||options.height,scale=Math.min(options.width/ORIGINAL_WIDTH,options.height/ORIGINAL_HEIGHT),logoCanvas&&(logoCanvas.width=options.width,logoCanvas.height=options.height),shadowCanvas&&(shadowCanvas.width=options.width,shadowCanvas.height=options.height*SHADOW_SCALE_Y)}function loop(){tilt.current+=.2*(tilt.target-tilt.current),turboColorSpeedFactor+=(1-turboColorSpeedFactor)*TURBO_DECAY,turboMorphSpeedFactor+=(1-turboMorphSpeedFactor)*TURBO_DECAY,turboMorphStrengthFactor+=(1-turboMorphStrengthFactor)*TURBO_DECAY,updateColor(),updatePerformance(),updateShape(shapeForeground),updateShape(shapeBackground),renderLogo(),renderShadow()}function updatePerformance(){var t=(new Date).getTime();performance.frameCount++,t>performance.lastSecond+1e3&&(performance.fps=Math.max(Math.min(Math.round(1e3*performance.frameCount/(t-performance.lastSecond)),options.framerate),1),performance.factor=Math.min(ORIGINAL_FRAMERATE/options.framerate,1)+(1-performance.fps/ORIGINAL_FRAMERATE),performance.lastSecond=t,performance.frameCount=0)}function updateColor(){var t=colorQueue[0][0],e=colorQueue[0][1];shapeForegroundColor.approach(t,.015*options.colorSpeedFactor*performance.factor*turboColorSpeedFactor),shapeBackgroundColor.approach(e,.015*options.colorSpeedFactor*performance.factor*turboColorSpeedFactor);var o=shapeForegroundColor.isWithinRangeOf(.1*options.colorSpeedFactor*turboColorSpeedFactor,t),r=shapeBackgroundColor.isWithinRangeOf(.1*options.colorSpeedFactor*turboColorSpeedFactor,e);o&&r&&(colorQueue.shift(),colorQueue[0]||createColorQueue()),alpha=visible?Math.min(alpha+.01*options.introSpeedFactor,1):Math.max(alpha-.01*options.outroSpeedFactor,0)}function updateShape(t){t.offset.x+=.1*(t.offset.tx-t.offset.x),t.offset.y+=.1*(t.offset.ty-t.offset.y);for(var e=0,o=t.points.length;o>e;e++){p1=YugenLogo.util.getLoopedArrayElement(t.points,e),shapeBounds.left=Math.min(shapeBounds.left,p1.x),shapeBounds.right=Math.max(shapeBounds.right,p1.x);var r=options.morphSpeedFactor;switch(p1.state){case INTRO_STATE:r=options.introSpeedFactor;break;case OUTRO_STATE:r=options.outroSpeedFactor}p1.normal.x+=.01*(p1.normalTarget.x-p1.normal.x),p1.normal.y+=.01*(p1.normalTarget.y-p1.normal.y),p1.x+=(p1.target.x-p1.x)*p1.speed*r*performance.factor*turboMorphSpeedFactor,p1.y+=(p1.target.y-p1.y)*p1.speed*r*performance.factor*turboMorphSpeedFactor,p1.x+=p1.velocity.x,p1.y+=p1.velocity.y,p1.velocity.x*=FRICTION,p1.velocity.y*=FRICTION,YugenLogo.util.distanceBetween(p1,p1.normal)>MORPH_RANGE2&&(p1.velocity.x*=Math.pow(FRICTION,16),p1.velocity.y*=Math.pow(FRICTION,16)),Math.abs(p1.x-p1.target.x)<1&&p1.state!==OUTRO_STATE&&(p1.target.x=p1.normal.x,p1.target.x+=(-MORPH_RANGE+Math.random()*MORPH_RANGE2)*options.morphStrengthFactor*turboMorphStrengthFactor*scale,p1.state=MORPH_STATE),Math.abs(p1.y-p1.target.y)<1&&p1.state!==OUTRO_STATE&&(p1.target.y=p1.normal.y,p1.target.y+=(-MORPH_RANGE+Math.random()*MORPH_RANGE2)*options.morphStrengthFactor*turboMorphStrengthFactor*scale,p1.state=MORPH_STATE),Math.abs(p1.normal.x-p1.normalTarget.x)<1&&Math.abs(p1.normal.y-p1.normalTarget.y)<1&&(p1.normalTarget=createShapeNormal(t,t.points.length-e,options.shapeQuality))}}function renderShadow(){if(shadowCanvas&&shadowContext){var t=shadowCanvas.width,e=shadowCanvas.height,o=1+Math.abs(shapeBounds.right-shapeBounds.left)/options.width,r=.2;(Math.abs(shapeBounds.left)-Math.abs(shapeBounds.right))/2;shadowContext.clearRect(0,0,t,e),shadowContext.save(),shadowContext.globalAlpha=alpha,shadowContext.translate(-(t*(o-1)/2),-(e*(r-1)/2)),shadowContext.scale(o,r);var a=shadowContext.createRadialGradient(.5*t,.5*e,0,.5*t,.5*e,e/2);a.addColorStop(.3,"rgba(0, 0, 0, "+options.shadowAlpha+")"),a.addColorStop(1,"rgba(0, 0, 0, 0.0)"),shadowContext.fillStyle=a,shadowContext.fillRect(0,0,t,e),shadowContext.restore()}}function renderLogo(){shapeBounds.left=options.width,shapeBounds.right=0,logoContext.clearRect(0,0,options.width,options.height),logoContext.save(),logoContext.globalAlpha=alpha,logoContext.save(),0===tilt.current&&tilt.target===tilt.current||(logoContext.translate(Math.round(.5*options.width),Math.round(.5*options.height)),logoContext.rotate(tilt.current),logoContext.translate(-Math.round(.5*options.width),-Math.round(.5*options.height))),renderShape(shapeForeground,shapeForegroundColor),logoContext.save(),logoContext.globalCompositeOperation="source-atop",renderShape(shapeBackground,new YugenLogo.util.Color(0,0,0,.5)),logoContext.globalCompositeOperation="destination-over",renderShape(shapeBackground,shapeBackgroundColor),logoContext.restore(),logoContext.restore(),logoContext.restore()}function renderWord(){logoContext.save(),logoContext.globalAlpha=alpha;var t=ORIGINAL_WORD_WIDTH*scale*options.wordScale,e=ORIGINAL_WORD_HEIGHT*scale*options.wordScale,o=Math.round(.5*(options.width-t))+options.wordOffsetX*scale,r=Math.round(.5*(options.height-e))+options.wordOffsetY*scale;logoContext.drawImage(wordImage.get(0),o,r,t,e),logoContext.restore()}function renderShape(t,e){var o=centerOfShape(t);logoContext.save(),logoContext.translate(o.x,o.y),logoContext.rotate(t.rotation),logoContext.beginPath();var r=YugenLogo.util.getLoopedArrayElement(t.points,-1),a=YugenLogo.util.getLoopedArrayElement(t.points,0);logoContext.moveTo(r.x+(a.x-r.x)/2,r.y+(a.y-r.y)/2);for(var n=0,i=t.points.length;i>=n;n++)r=YugenLogo.util.getLoopedArrayElement(t.points,n),a=YugenLogo.util.getLoopedArrayElement(t.points,n+1),logoContext.quadraticCurveTo(r.x,r.y,r.x+(a.x-r.x)/2,r.y+(a.y-r.y)/2);logoContext.fillStyle=e.toRGBAString(),logoContext.fill(),logoContext.restore()}var INTRO_STATE=0,MORPH_STATE=1,OUTRO_STATE=2,ORIGINAL_WIDTH=370,ORIGINAL_HEIGHT=250,ORIGINAL_FRAMERATE=60,SHADOW_SCALE_Y=.5,ORIGINAL_WORD_WIDTH=144,ORIGINAL_WORD_HEIGHT=41,MORPH_RANGE=20,MORPH_RANGE2=2*MORPH_RANGE,TURBO_DECAY=.01,FRICTION=.95,SHAPE_OFFSET=10,PARALLAX_AMOUNT=10,IS_TOUCH_DEVICE=!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)),API={util:{},input:{}},document=window.document,initialized=!1,options={containerID:"yugen-logo",logoCanvasID:"yugen-logo-canvas",shadowCanvasID:null,wordImageURL:"images/yugen-word.png",wordOffsetX:-25,wordOffsetY:0,wordScale:1.5,framerate:IS_TOUCH_DEVICE?30:ORIGINAL_FRAMERATE,debug:!0,width:400,height:300,foregroundScaleX:.39,foregroundScaleY:.23,backgroundScaleX:.39,backgroundScaleY:.23,maxShapeRotation:.2,colorSpeedFactor:1,introSpeedFactor:3,outroSpeedFactor:3,morphSpeedFactor:1,morphBaseSpeedFactor:.2,morphStrengthFactor:.8,normalOffsetFactor:1.5,shadowAlpha:.1,shapeQuality:9,colors:[],inputs:[],fallbackImages:[]},container=null,logoCanvas=null,logoContext=null,shadowCanvas=null,shadowContext=null,wordImage=null,updateInterval=-1,scale=1,alpha=0,turboMorphStrengthFactor=1,turboMorphSpeedFactor=1,turboColorSpeedFactor=1,visible=!0,tilt={current:0,target:0},shapeForeground=null,shapeBackground=null,shapeForegroundColor=null,shapeBackgroundColor=null,shapeBounds={left:0,right:0},colorQueue=[],colorTween=0,performance={fps:options.framerate,lastSecond:(new Date).getTime(),frameCount:0,factor:1};API.initialize=function(t){initialized?API.configure(t):(YugenLogo.util.extendObject(options,t),container=$("#"+options.containerID),logoCanvas=$("#"+options.logoCanvasID).get(0),shadowCanvas=$("#"+options.shadowCanvasID).get(0),logoCanvas&&logoCanvas.getContext?(startLogoCanvas(),shadowCanvas&&shadowCanvas.getContext&&startShadowCanvas()):startFallback(),options.debug&&enableDebugging(),initialized=!0)},API.configure=function(t){YugenLogo.util.extendObject(options,t),resize(),logoContext&&(createColorQueue(),shapeForegroundColor=colorQueue[0][0].clone(),shapeBackgroundColor=colorQueue[0][1].clone(),shapeForeground=createShape(ORIGINAL_WIDTH*options.foregroundScaleX,ORIGINAL_HEIGHT*options.foregroundScaleY,.2),shapeBackground=createShape(ORIGINAL_WIDTH*options.backgroundScaleX,ORIGINAL_HEIGHT*options.backgroundScaleY,3.3),clearInterval(updateInterval),updateInterval=setInterval(loop,1e3/options.framerate),alpha=0,API.show())},API.getOptions=function(){return options},API.getScale=function(){return scale},API.applyImpulse=function(t,e,o,r){function a(a){for(var n=centerOfShape(a),i={x:t-n.x,y:e-n.y},s=0,c=a.points.length;c>s;s++){var u=a.points[s],p=YugenLogo.util.distanceBetween(i,u);if(r>p){var l=1-p/r;u.velocity.x+=(u.x-i.x)/options.width*o*l,u.velocity.y+=(u.y-i.y)/options.height*o*l}}}a(shapeForeground),a(shapeBackground)},API.applyForce=function(t,e,o,r,a){function n(n){for(var i=centerOfShape(n),s={x:t-i.x,y:e-i.y},c=0,u=n.points.length;u>c;c++){var p=n.points[c],l=YugenLogo.util.distanceBetween(s,p);if(a>l){var g=1-l/a;p.velocity.x+=o*g*scale,p.velocity.y+=r*g*scale}}}n(shapeForeground),n(shapeBackground)},API.applyParallax=function(t,e,o,r){shapeForeground.offset.tx=Math.cos(shapeForeground.offset.angle)*PARALLAX_AMOUNT+t,shapeForeground.offset.ty=Math.sin(shapeForeground.offset.angle)*PARALLAX_AMOUNT+e,shapeBackground.offset.tx=Math.cos(shapeBackground.offset.angle)*PARALLAX_AMOUNT+o,shapeBackground.offset.ty=Math.sin(shapeBackground.offset.angle)*PARALLAX_AMOUNT+r},API.applyTilt=function(t){tilt.target=t},API.applyTurbo=function(t,e,o){turboMorphStrengthFactor=t,turboMorphSpeedFactor=e,turboColorSpeedFactor=o},API.changeColor=function(){colorQueue.shift(),colorQueue[0]||createColorQueue()},API.show=function(){visible=!0;var t=shapeForeground.points.concat(shapeBackground.points);t.map(function(t){t.state=INTRO_STATE,t.target.x=t.normal.x,t.target.y=t.normal.y})},API.hide=function(){visible=!1;var t=shapeForeground.points.concat(shapeBackground.points);t.map(function(t){t.state=OUTRO_STATE,t.target.x=0,t.target.y=0})};var shapeTemplate=1+Math.floor(3*Math.random());return API}(window);YugenLogo.util.extendObject=function(t,e){for(var o in e)t[o]=e[o]},YugenLogo.util.distanceBetween=function(t,e){var o=t.x-e.x,r=t.y-e.y;return Math.sqrt(o*o+r*r)},YugenLogo.util.randomBetween=function(t,e,o){var r=t+Math.random()*(e-t);return void 0!==absMin&&t<-absMin&&e>absMin&&(r=Math.random()>.5?absMin+Math.random()*(e-absMin):-absMin+Math.random()*(t+absMin)),r},YugenLogo.util.getLoopedArrayElement=function(t,e){if(t[e])return t[e];var o=t.length;return e>o-1?t[e-o]:0>e?t[o+e]:void 0},YugenLogo.util.Color=function(t,e,o,r){this.r=t||0,this.g=e||0,this.b=o||0,this.a=r||1},YugenLogo.util.Color.prototype.approach=function(t,e){this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this.a+=(t.a-this.a)*e},YugenLogo.util.Color.prototype.isWithinRangeOf=function(t,e){return Math.abs(this.r-e.r)<t||Math.abs(this.g-e.g)<t||Math.abs(this.b-e.b)<t},YugenLogo.util.Color.prototype.clone=function(){return new YugenLogo.util.Color(this.r,this.g,this.b,this.a)},YugenLogo.util.Color.prototype.toHEX=function(){return(this.r<<16|this.g<<8|this.b).toString(16)},YugenLogo.util.Color.prototype.toRGBAString=function(){return"rgba("+Math.round(this.r)+","+Math.round(this.g)+","+Math.round(this.b)+","+this.a+")"},YugenLogo.util.Point=function(t,e){this.x=t||0,this.y=e||0},YugenLogo.util.Point.prototype.distanceTo=function(t){var e=t.x-this.x,o=t.y-this.y;return Math.sqrt(e*e+o*o)},YugenLogo.util.Point.prototype.clonePosition=function(){return{x:this.x,y:this.y}},YugenLogo.util.Region=function(){this.left=Number.POSITIVE_INFINITY,this.top=Number.POSITIVE_INFINITY,this.right=0,this.bottom=0},YugenLogo.util.Region.prototype.reset=function(){this.left=Number.POSITIVE_INFINITY,this.top=Number.POSITIVE_INFINITY,this.right=0,this.bottom=0},YugenLogo.util.Region.prototype.inflate=function(t,e){this.left=Math.min(this.left,t),this.top=Math.min(this.top,e),this.right=Math.max(this.right,t),this.bottom=Math.max(this.bottom,e)},YugenLogo.util.Region.prototype.contains=function(t,e){return t>this.left&&t<this.right&&e>this.top&&e<this.bottom},Array.prototype.map||(Array.prototype.map=function(t){var e=this.length>>>0;if("function"!=typeof t)throw new TypeError;for(var o=new Array(e),r=arguments[1],a=0;e>a;a++)a in this&&(o[a]=t.call(r,this[a],a,this));return o}),YugenLogo.input.move=function(t){function e(t){c.x=t.clientX,c.y=t.clientY,r(),a(),c.previousX=c.x,c.previousY=c.y}function o(t){c.x=t.touches[0].pageX,c.y=t.touches[0].pageY,r(),c.previousX=c.x,c.previousY=c.y}function r(){var e={x:c.x-c.previousX,y:c.y-c.previousY},o={x:e.x/t.innerWidth,y:e.y/t.innerHeight},r={x:c.x-u.position().left,y:c.y-u.position().top};YugenLogo.applyForce(r.x,r.y,o.x*s,o.y*s,i)}function a(){var e=(-.5+c.x/t.innerWidth)*n,o=(-.5+c.y/t.innerHeight)*n,r=.2*e,a=.2*o;YugenLogo.applyParallax(e,o,r,a)}var n=(t.document,14),i=60,s=30,c={x:0,y:0,previousX:0,previousY:0},u=null;return{initialize:function(){addEventListener("mousemove",e,!1),addEventListener("touchmove",o,!1),u=$("#"+YugenLogo.getOptions().logoCanvasID)}}}(window),YugenLogo.input.press=function(t){function e(t){l.x=t.clientX,l.y=t.clientY,s(u),YugenLogo.changeColor(),g=setInterval(o,200),o()}function o(){YugenLogo.applyTurbo(1,3,4)}function r(t){clearInterval(g)}function a(t){t.touches[0]&&(l.x=t.touches[0].pageX,l.y=t.touches[0].pageY,s(p),YugenLogo.changeColor(),g=setInterval(n,200),n(),t.preventDefault())}function n(){YugenLogo.applyTurbo(1,5,4)}function i(t){clearInterval(g)}function s(t){var e={x:l.x-h.position().left,y:l.y-h.position().top},o=YugenLogo.getScale();YugenLogo.applyImpulse(e.x,e.y,t*o,c*o)}var c=(t.document,150),u=20,p=40,l={x:0,y:0},g=-1,h=null;return{initialize:function(){h=$("#"+YugenLogo.getOptions().logoCanvasID),h.get(0).addEventListener("mousedown",e,!1),addEventListener("mouseup",r,!1),h.get(0).addEventListener("touchstart",a,!1),addEventListener("touchend",i,!1)}}}(window),YugenLogo.input.orientation=function(t){function e(t){var e=(t.beta,t.gamma);YugenLogo.applyTilt(-1*e/180*a)}function o(t){var e=(-t.accelerationIncludingGravity.y,t.accelerationIncludingGravity.x);return YugenLogo.applyTilt(-1*e/180*r),t.preventDefault(),!1}var r=(t.document,8),a=4;return{initialize:function(){addEventListener("deviceorientation",e,!1),addEventListener("devicemotion",o,!1)}}}(window),jQuery.extend(jQuery.easing,{easeOutBack:function(t,e,o,r,a,n){return void 0===n&&(n=1.70158),r*((e=e/a-1)*e*((n+1)*e+n)+1)+o}});var pageArr;$(function(){pageArr=$("#fold .fold_pager"),$("#fold").mousemove(function(t){var e=t.clientX-$(this).offset().left,o=60*e/$(this).width()-30;$(this).css({"-webkit-transform":"rotateY("+o+"deg)","-moz-transform":"rotateY("+o+"deg)","-ms-transform":"rotateY("+o+"deg)","-o-transform":"rotateY("+o+"deg)",transform:"rotateY("+o+"deg)"})}).mouseenter(function(){stopAll(),rotateDown(0)}).mouseleave(function(){stopAll(),rotateUp(pageArr.length-1)})}),function(t){function e(e,r,a){var n=this;return this.on("click.pjax",e,function(e){var i=t.extend({},f(r,a));i.container||(i.container=t(this).attr("data-pjax")||n),o(e,i)})}function o(e,o,r){r=f(o,r);var n=e.currentTarget;if("A"!==n.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||location.protocol!==n.protocol||location.hostname!==n.hostname||n.href.indexOf("#")>-1&&d(n)==d(location)||e.isDefaultPrevented())){var i={url:n.href,container:t(n).attr("data-pjax"),target:n},s=t.extend({},i,r),c=t.Event("pjax:click");t(n).trigger(c,[s]),c.isDefaultPrevented()||(a(s),e.preventDefault(),t(n).trigger("pjax:clicked",[s]))}}function r(e,o,r){r=f(o,r);var n=e.currentTarget;if("FORM"!==n.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var i={type:n.method.toUpperCase(),url:n.action,container:t(n).attr("data-pjax"),target:n};if("GET"!==i.type&&void 0!==window.FormData)i.data=new FormData(n),i.processData=!1,i.contentType=!1;else{if(t(n).find(":file").length)return;i.data=t(n).serializeArray()}a(t.extend({},i,r)),e.preventDefault()}function a(e){function o(e,o,a){a||(a={}),a.relatedTarget=r;var n=t.Event(e,a);return s.trigger(n,o),!n.isDefaultPrevented()}e=t.extend(!0,{},t.ajaxSettings,a.defaults,e),t.isFunction(e.url)&&(e.url=e.url());var r=e.target,n=h(e.url).hash,s=e.context=m(e.container);e.data||(e.data={}),t.isArray(e.data)?e.data.push({name:"_pjax",value:s.selector}):e.data._pjax=s.selector;var c;e.beforeSend=function(t,r){if("GET"!==r.type&&(r.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",s.selector),!o("pjax:beforeSend",[t,r]))return!1;r.timeout>0&&(c=setTimeout(function(){o("pjax:timeout",[t,e])&&t.abort("timeout")},r.timeout),r.timeout=0);var a=h(r.url);n&&(a.hash=n),e.requestUrl=g(a)},e.complete=function(t,r){c&&clearTimeout(c),o("pjax:complete",[t,r,e]),o("pjax:end",[t,e])},e.error=function(t,r,a){var n=x("",t,e),s=o("pjax:error",[t,r,a,e]);"GET"==e.type&&"abort"!==r&&s&&i(n.url)},e.success=function(r,c,u){var l=a.state,g="function"==typeof t.pjax.defaults.version?t.pjax.defaults.version():t.pjax.defaults.version,d=u.getResponseHeader("X-PJAX-Version"),f=x(r,u,e),m=h(f.url);if(n&&(m.hash=n,f.url=m.href),g&&d&&g!==d)return void i(f.url);if(!f.contents)return void i(f.url);a.state={id:e.id||p(),url:f.url,title:f.title,container:s.selector,fragment:e.fragment,timeout:e.timeout},(e.push||e.replace)&&window.history.replaceState(a.state,f.title,f.url);var v=t.contains(e.container,document.activeElement);if(v)try{document.activeElement.blur()}catch(y){}f.title&&(document.title=f.title),o("pjax:beforeReplace",[f.contents,e],{state:a.state,previousState:l}),s.html(f.contents);var w=s.find("input[autofocus], textarea[autofocus]").last()[0];w&&document.activeElement!==w&&w.focus(),S(f.scripts);var b=e.scrollTo;if(n){var C=decodeURIComponent(n.slice(1)),I=document.getElementById(C)||document.getElementsByName(C)[0];I&&(b=t(I).offset().top)}"number"==typeof b&&t(window).scrollTop(b),o("pjax:success",[r,c,u,e])},a.state||(a.state={id:p(),url:window.location.href,title:document.title,container:s.selector,fragment:e.fragment,timeout:e.timeout},window.history.replaceState(a.state,document.title)),u(a.xhr),a.options=e;var d=a.xhr=t.ajax(e);return d.readyState>0&&(e.push&&!e.replace&&(w(a.state.id,l(s)),window.history.pushState(null,"",e.requestUrl)),o("pjax:start",[d,e]),o("pjax:send",[d,e])),a.xhr}function n(e,o){var r={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return a(t.extend(r,f(e,o)))}function i(t){window.history.replaceState(null,"",a.state.url),window.location.replace(t)}function s(e){O||u(a.xhr);var o,r=a.state,n=e.state;if(n&&n.container){if(O&&L==n.url)return;if(r){if(r.id===n.id)return;o=r.id<n.id?"forward":"back"}var s=R[n.id]||[],c=t(s[0]||n.container),p=s[1];if(c.length){r&&b(o,r.id,l(c));var g=t.Event("pjax:popstate",{state:n,direction:o});c.trigger(g);var h={id:n.id,url:n.url,container:c,push:!1,fragment:n.fragment,timeout:n.timeout,scrollTo:!1};if(p){c.trigger("pjax:start",[null,h]),a.state=n,n.title&&(document.title=n.title);var d=t.Event("pjax:beforeReplace",{state:n,previousState:r});c.trigger(d,[p,h]),c.html(p),c.trigger("pjax:end",[null,h])}else a(h);c[0].offsetHeight}else i(location.href)}O=!1}function c(e){var o=t.isFunction(e.url)?e.url():e.url,r=e.type?e.type.toUpperCase():"GET",a=t("<form>",{method:"GET"===r?"GET":"POST",action:o,style:"display:none"});"GET"!==r&&"POST"!==r&&a.append(t("<input>",{type:"hidden",name:"_method",value:r.toLowerCase()}));var n=e.data;if("string"==typeof n)t.each(n.split("&"),function(e,o){var r=o.split("=");a.append(t("<input>",{type:"hidden",name:r[0],value:r[1]}))});else if(t.isArray(n))t.each(n,function(e,o){a.append(t("<input>",{type:"hidden",name:o.name,value:o.value}))});else if("object"==typeof n){var i;for(i in n)a.append(t("<input>",{type:"hidden",name:i,value:n[i]}))}t(document.body).append(a),a.submit()}function u(e){e&&e.readyState<4&&(e.onreadystatechange=t.noop,e.abort())}function p(){return(new Date).getTime()}function l(t){var e=t.clone();return e.find("script").each(function(){this.src||jQuery._data(this,"globalEval",!1)}),[t.selector,e.contents()]}function g(t){return t.search=t.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),t.href.replace(/\?($|#)/,"$1")}function h(t){var e=document.createElement("a");return e.href=t,e}function d(t){return t.href.replace(/#.*/,"")}function f(e,o){return e&&o?o.container=e:o=t.isPlainObject(e)?e:{container:e},o.container&&(o.container=m(o.container)),o}function m(e){if(e=t(e),e.length){if(""!==e.selector&&e.context===document)return e;if(e.attr("id"))return t("#"+e.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+e.selector}function v(t,e){return t.filter(e).add(t.find(e))}function y(e){return t.parseHTML(e,document,!0)}function x(e,o,r){var a={},n=/<html/i.test(e),i=o.getResponseHeader("X-PJAX-URL");if(a.url=i?g(h(i)):r.requestUrl,n)var s=t(y(e.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),c=t(y(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var s=c=t(y(e));if(0===c.length)return a;if(a.title=v(s,"title").last().text(),r.fragment){if("body"===r.fragment)var u=c;else var u=v(c,r.fragment).first();u.length&&(a.contents="body"===r.fragment?u:u.contents(),a.title||(a.title=u.attr("title")||u.data("title")))}else n||(a.contents=c);return a.contents&&(a.contents=a.contents.not(function(){return t(this).is("title")}),a.contents.find("title").remove(),a.scripts=v(a.contents,"script[src]").remove(),a.contents=a.contents.not(a.scripts)),a.title&&(a.title=t.trim(a.title)),a}function S(e){if(e){var o=t("script[src]");e.each(function(){var e=this.src,r=o.filter(function(){return this.src===e});if(!r.length){var a=document.createElement("script"),n=t(this).attr("type");n&&(a.type=n),a.src=t(this).attr("src"),document.head.appendChild(a)}})}}function w(t,e){R[t]=e,F.push(t),C(E,0),C(F,a.defaults.maxCacheLength)}function b(t,e,o){var r,n;R[e]=o,"forward"===t?(r=F,n=E):(r=E,n=F),r.push(e),(e=n.pop())&&delete R[e],C(r,a.defaults.maxCacheLength)}function C(t,e){for(;t.length>e;)delete R[t.shift()]}function I(){return t("meta").filter(function(){var e=t(this).attr("http-equiv");return e&&"X-PJAX-VERSION"===e.toUpperCase()}).attr("content")}function A(){t.fn.pjax=e,t.pjax=a,t.pjax.enable=t.noop,t.pjax.disable=T,t.pjax.click=o,t.pjax.submit=r,t.pjax.reload=n,t.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:I},t(window).on("popstate.pjax",s)}function T(){t.fn.pjax=function(){return this},t.pjax=c,t.pjax.enable=A,t.pjax.disable=t.noop,t.pjax.click=t.noop,t.pjax.submit=t.noop,t.pjax.reload=function(){window.location.reload()},t(window).off("popstate.pjax",s)}var O=!0,L=window.location.href,M=window.history.state;M&&M.container&&(a.state=M),"state"in window.history&&(O=!1);var R={},E=[],F=[];t.inArray("state",t.event.props)<0&&t.event.props.push("state"),t.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),t.support.pjax?A():T()}(jQuery),YugenLogo.initialize({framerate:60,width:380,height:220,colorSpeedFactor:.4,morphSpeedFactor:.4,introSpeedFactor:2,outroSpeedFactor:2,morphStrengthFactor:.8,morphBaseSpeedFactor:.2,normalOffsetFactor:1.5,maxShapeRotation:.2,wordOffsetX:0,wordOffsetY:0,wordScale:1,foregroundScaleX:.42,foregroundScaleY:.21,backgroundScaleX:.36,backgroundScaleY:.21,shadowAlpha:.1,shapeQuality:9,containerID:"logo-bg",logoCanvasID:"yugen-logo-canvas",colors:[[new YugenLogo.util.Color(240,240,240),new YugenLogo.util.Color(0,0,0)],[new YugenLogo.util.Color(0,0,0),new YugenLogo.util.Color(240,240,240)]],inputs:[YugenLogo.input.move,YugenLogo.input.press],fallbackImages:[]});var toTop=$("#toTop");$(window).scroll(function(){$(window).scrollTop()<500?toTop.fadeOut("fast"):toTop.fadeIn("fast")}),toTop.click(function(){return $("html,body").animate({scrollTop:0},500),!1}),$(document).pjax("a[target!=_blank]","#contentleft",{fragment:"#contentleft",timeout:8e3}),$(document).on("pjax:send",function(){$(".pjax_loading").animate({width:"200px"},500),$(".pace-activity").show()}),$(document).on("pjax:complete",function(){$(".pjax_loading").animate({width:"100%"},function(){$(".pjax_loading").css({width:"0"}),$(".pace-activity").hide()})});