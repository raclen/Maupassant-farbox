jQuery.extend(jQuery.easing,{easeOutBack:function(e,f,a,i,h,g){if(g===undefined){g=1.70158}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a}});var pageArr;function rotateDown(a){if(a<0||a>=pageArr.length){return}var b=pageArr.eq(a);b.children("a").css("background-color","#fff");var c=b.data("obj");if(!c){b.data("obj",{r:getNumByEle(b)});c=b.data("obj")}else{c.r=getNumByEle(b)}$(c).animate({r:0},{duration:1000,easing:"easeOutBack",step:function(){b.css({"-moz-transform":"rotateX("+this.r+"deg)","-webkit-transform":"rotateX("+this.r+"deg)","-0-transform":"rotateX("+this.r+"deg)","-ms-transform":"rotateX("+this.r+"deg)",transform:"rotateX("+this.r+"deg)"});if(b.data("opening")){return}var d=getNumByEle(b);if(d>-120){b.data("opening",true);rotateDown(a+1)}},complete:function(){b.css({transform:"rotateX(0deg)"})}})}function rotateUp(a){if(a<0||a>=pageArr.length){return}var b=pageArr.eq(a);b.children("a").css("background-color","rgb(223,223,223)");var c=b.data("obj");if(!c){b.data("obj",{r:getNumByEle(b)});c=b.data("obj")}else{c.r=getNumByEle(b)}$(c).animate({r:-180},{duration:600,easing:"linear",step:function(){b.css({"-moz-transform":"rotateX("+this.r+"deg)","-webkit-transform":"rotateX("+this.r+"deg)","-0-transform":"rotateX("+this.r+"deg)","-ms-transform":"rotateX("+this.r+"deg)",transform:"rotateX("+this.r+"deg)"});if(b.data("closing")){return}var d=getNumByEle(b);if(d<-60){b.data("closing",true);rotateUp(a-1)}},complete:function(){b.css({transform:"rotateX(-180deg)"})}})}function getNumByEle(a){var b=a.attr("style");return b.match(/rotateX\(([-]?\d+)/)[1]}function stopAll(){for(var a=0;a<pageArr.length;a++){var b=pageArr.eq(a);b.data("opening",false);b.data("closing",false);var c=b.data("obj");if(c&&$(c).stop){$(c).stop(true,false)}}}$(function(){pageArr=$("#fold .fold_pager");$("#fold").mousemove(function(b){var a=b.clientX-$(this).offset().left;var c=60*a/$(this).width()-30;$(this).css({"-webkit-transform":"rotateY("+c+"deg)","-moz-transform":"rotateY("+c+"deg)","-ms-transform":"rotateY("+c+"deg)","-o-transform":"rotateY("+c+"deg)",transform:"rotateY("+c+"deg)"})}).mouseenter(function(){stopAll();rotateDown(0)}).mouseleave(function(){stopAll();rotateUp(pageArr.length-1)})});